<!DOCTYPE html>
<html style = "font-family:Cambria, Cochin, Georgia, Times, 'Times New Roman', serif">
    <head>
        {% load static %}
        
            <link rel="stylesheet" type="text/css" href="{% static 'home/style.css' %}">
            <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
            <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
            <script type="text/javascript" src="{% static 'home/operations.js' %}"></script>
            
        
        
    
    
    
    </head>

    <body style = "background-image:url({%static 'home/wallpaper.jpg'%})">
    
        <div id = "main-div">
        
            <div id = "menu">
                
                <h1 class = "page-head">Data sheet</h1>
            
            </div>
            
            <div>

                <table id = "table">

                    <tr><!--L-->
                        <td class = "table-data">46L</td>
                        <td class = "table-data">44L</td>
                        <td class = "table-data">42L</td>
                        <td class = "table-data">40L</td>
                        <td class = "table-data">38L</td>
                        <td class = "table-data">36L</td>
                        <td class = "table-data">34L</td>
                        <td class = "table-data">32L</td>
                        <td class = "table-data">30L</td>
                        <td class = "table-data">28L</td>
                        <td class = "table-data">26L</td>
                    </tr>

                    <tr><!--K-->
                        <td class = "table-data">46K</td>
                        <td class = "table-data">44K</td>
                        <td class = "table-data">42K</td>
                        <td class = "table-data">40K</td>
                        <td class = "table-data">38K</td>
                        <td class = "table-data">36K</td>
                        <td class = "table-data">34K</td>
                        <td class = "table-data">32K</td>
                        <td class = "table-data">30K</td>
                        <td class = "table-data">28K</td>
                        <td class = "table-data">26K</td>
                    </tr>
                    <tr><!--J-->
                        <td class = "table-data">46J</td>
                        <td class = "table-data">44J</td>
                        <td class = "table-data">42J</td>
                        <td class = "table-data">40J</td>
                        <td class = "table-data">38J</td>
                        <td class = "table-data">36J</td>
                        <td class = "table-data">34J</td>
                        <td class = "table-data">32J</td>
                        <td class = "table-data">30J</td>
                        <td class = "table-data">28J</td>
                        <td class = "table-data">26J</td>
                    </tr>
                    <tr><!--H-->
                        <td class = "table-data">46H</td>
                        <td class = "table-data">44H</td>
                        <td class = "table-data">42H</td>
                        <td class = "table-data">40H</td>
                        <td class = "table-data">38H</td>
                        <td class = "table-data">36H</td>
                        <td class = "table-data">34H</td>
                        <td class = "table-data">32H</td>
                        <td class = "table-data">30H</td>
                        <td class = "table-data">28H</td>
                        <td class = "table-data">26H</td>
                    </tr>
                    <tr><!--G-->
                        <td class = "table-data">46G</td>
                        <td class = "table-data">44G</td>
                        <td class = "table-data">42G</td>
                        <td class = "table-data">40G</td>
                        <td class = "table-data">38G</td>
                        <td class = "table-data">36G</td>
                        <td class = "table-data">34G</td>
                        <td class = "table-data">32G</td>
                        <td class = "table-data">30G</td>
                        <td class = "table-data">28G</td>
                        <td class = "table-data">26G</td>
                    </tr>
                    <tr><!--F-->
                        <td class = "table-data">46F</td>
                        <td class = "table-data">44F</td>
                        <td class = "table-data">42F</td>
                        <td class = "table-data">40F</td>
                        <td class = "table-data">38F</td>
                        <td class = "table-data">36F</td>
                        <td class = "table-data">34F</td>
                        <td class = "table-data">32F</td>
                        <td class = "table-data">30F</td>
                        <td class = "table-data">28F</td>
                        <td class = "table-data">26F</td>
                    </tr>

                </table>

            </div>
            <div id = "mod-cell">
                <table>
                    <tr>
                        <td><p>Location: </p></td>
                        <td><p id = "loc">...</p></td>
                    </tr>
                    <tr>
                        <td><p>Pick Location: </p></td>
                        <td><p id = "picloc">...</p></td>
                    </tr>
                    <tr>
                        <td><p>Product:</p>
                        <td><p id = "product">...</p></td>
                    </tr>
                    <tr>
                        <td><p id = "x">x</p></td>
                        <td><p id = "y">y</p></td>
                    </tr>
                </table>
            </div>
            <div id = "overlay"></div>

        
        </div>
    
    </body>

<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script type="text/javascript">


items = [
    {% for i in data %}
    {item: "{{ i.product }}" + "<br>" + "{{ i.loc }}" + "<br>" +"<p class = 'hid'>" + "{{ i.pickloc }}" + "</p>", x: "{{ i.xpos }}", y: "{{i.ypos}}"},  
    {% endfor %}    
];

items.forEach(({item, x, y}) => {
    var row = document.querySelectorAll('tr')[y];
    console.log(y)
    var cell = row.querySelectorAll('td')[x];
    console.log(x)
    cell.innerHTML = item;   
    
    

});
$(document).ready( function() {
    

    $(".table-data").hover( function() {
        $(this).find("p").css("display", "inline");
        
    }, function(){
        $(this).find("p").css("display", "none");

    });
    $(".table-data").mouseup( function(){
        var row = $(this).closest("tr").index();
        var cell = $(this).index();
        console.log(cell + " " + row);
        $("#overlay").css("display","inline");
        $("#mod-cell").css("display", "inline");
        $("#x").text(cell);
        $("#y").text(row);
    });
});
</script>

</html>